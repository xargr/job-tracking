{"version":3,"file":"static/webpack/static/development/pages/_app.js.86819d70e27aa1f655b7.hot-update.js","sources":["webpack:///./components/context/JobContext.js"],"sourcesContent":["import React from 'react';\nimport { data } from '../../lib/data';\n\nconst JobContext = React.createContext();\n\nclass JobContextProvider extends React.Component {\n  state = {};\n\n  componentDidMount() {\n    console.log( 'not');\n  }\n\n  onDragEnd = result => {\n    const { destination, source, draggableId } = result;\n\n    if (!destination) {\n      return;\n    }\n\n    if (\n      destination.droppableId === source.droppableId &&\n      destination.index === source.index\n    ) {\n      return;\n    }\n\n    const start = state.columns[source.droppableId];\n    const finish = state.columns[destination.droppableId];\n\n    if (start === finish) {\n      const newJobIds = Array.from(start.jobs);\n      newJobIds.splice(source.index, 1);\n      newJobIds.splice(destination.index, 0, draggableId);\n\n      const newColumn = {\n        ...start,\n        jobs: newJobIds\n      };\n\n      const newState = {\n        ...state,\n        columns: {\n          ...state.columns,\n          [newColumn.id]: newColumn\n        }\n      };\n\n      setState(newState);\n      return;\n    }\n\n    const startJobIds = Array.from(start.jobs);\n    startJobIds.splice(source.index, 1);\n\n    const newStart = {\n      ...start,\n      jobs: startJobIds\n    };\n\n    const finishJobIds = Array.from(finish.jobs);\n    finishJobIds.splice(destination.index, 0, draggableId);\n\n    const newFinish = {\n      ...finish,\n      jobs: finishJobIds\n    };\n\n    const newState = {\n      ...state,\n      columns: {\n        ...state.columns,\n        [newStart.id]: newStart,\n        [newFinish.id]: newFinish\n      }\n    };\n\n    setState(newState);\n  };\n\n  render() {\n    return (\n      <JobContext.Provider value={{ ...this.state, onDragEnd: this.onDragEnd }}>\n        {this.props.children}\n      </JobContext.Provider>\n    );\n  }\n}\n\nexport default JobContextProvider;\nexport { JobContext };\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AAKA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAFA;AACA;AAIA;AAEA;AAFA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AAFA;AACA;AAIA;AACA;AAAA;AACA;AACA;AAEA;AAFA;AACA;AAIA;AAEA;AAFA;AACA;AAQA;AACA;AACA;;;;;;AAtEA;AACA;AACA;;;AAqEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AAhFA;AACA;AAkFA;;;;;A","sourceRoot":""}